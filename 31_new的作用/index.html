<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>new</title>
    </head>
    <body></body>
</html>
<script>
    function Person(name, age) {
        this.name = name
        this.age = age
        this.say = function () {
            console.log(`我的名字是${this.name},我今年${this.age}岁了···`)
        }
    }

    /*
    1. 创建一个空对象
    2. 函数作用域赋给新对象
    3. 新对象的 __proto__ 指向函数的prototype
    4. 返回值？
*/
    function Parent(name = 1, age = 2) {
        this.name = name
        this.age = age
    }

    function newFunc(func) {
        let obj = {}
        let arr = Array.prototype.slice.call(arguments, 1)
        obj = Object.create(func.prototype)
        let x = func.apply(obj, arr)
        let res = (typeof x == 'object' || typeof x == 'function') && x != null ? x : obj
        return res
    }

    let child = newFunc(Parent)
    console.log(child)
</script>
